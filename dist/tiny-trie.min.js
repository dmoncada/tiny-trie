!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=new l["default"];return t.map(function(t){return e.insert(t)}),e}function o(t){return c["default"].freeze(t)}function u(t){return c["default"].freeze(t).serialize()}function a(t){return c["default"].deserialize(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.createSync=i,e.freeze=o,e.freezeToJSON=u,e.loadFrozen=a;var s=n(1),l=r(s),f=n(4),c=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=n(2),a=r(u),s=function f(t){i(this,f),this.letter=t,this["final"]=!1,this.children=[]},l=function(){function t(){i(this,t),this.previousWord="",this.root=new s(" "),this.cache=[this.root],this.nodeCount=1}return o(t,[{key:"getNodeCount",value:function(){return this.nodeCount}},{key:"insert",value:function(t){for(var e=0,n=0;n<Math.min(t.length,this.previousWord.length)&&t[n]===this.previousWord[n];n++)e+=1;this.cache.length=e+1;var r=this.cache[this.cache.length-1];for(n=e;n<t.length;n++){var i=new s(t[n]);this.nodeCount++,r.children.push(i),this.cache.push(i),r=i}r["final"]=!0,this.previousWord=t}},{key:"apply",value:function(t){for(var e=[this.root];e.length>0;){for(var n=e.shift(),r=0;r<n.children.length;r++)e.push(n.children[r]);t(n)}}},{key:"encode",value:function(){var t=new a["default"];t.write(2,2),this.apply(function(e){for(var n=0;n<e.children.length;n++)t.write(1,1);t.write(0,1)});var e="a".charCodeAt(0);return this.apply(function(n){var r=n.letter.charCodeAt(0)-e;n["final"]&&(r|=32),t.write(r,6)}),t.getData()}}]),t}();e["default"]=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return u.BASE64[t]}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=n(3),a=function(){function t(){r(this,t),this.bits=[]}return o(t,[{key:"write",value:function(t,e){for(var n=e-1;n>=0;n--)t&1<<n?this.bits.push(1):this.bits.push(0)}},{key:"getData",value:function(){for(var t=[],e=0,n=0,r=0;r<this.bits.length;r++)e=e<<1|this.bits[r],n+=1,n===u.W&&(t.push(i(e)),n=e=0);return n&&t.push(i(e<<u.W-n)),t.join("")}},{key:"getDebugString",value:function(t){for(var e=[],n=0,r=0;r<this.bits.length;r++)e.push(""+this.bits[r]),n++,n===t&&(e.push(" "),n=0);return e.join("")}}]),t}();e["default"]=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",e.BASE64_CACHE={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"-":62,_:63},e.W=6,e.L1=1024,e.L2=32},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=n(5),a=r(u),s=n(6),l=r(s),f=n(3),c=function(){function t(e,n,r,o,u,a){i(this,t),this.trie=e,this.index=n,this.letter=r,this["final"]=o,this.firstChild=u,this.childCount=a}return o(t,[{key:"getChildCount",value:function(){return this.childCount}},{key:"getChild",value:function(t){return this.trie.getNodeByIndex(this.firstChild+t)}}]),t}(),h=function(){function t(e,n,r){i(this,t),this.data=new l["default"](e),this._rawData=e,this._rawDirectory=n,this._nodeCount=r,this.directory=new a["default"](n,e,2*r+1,f.L1,f.L2),this.letterStart=2*r+1}return o(t,[{key:"getNodeByIndex",value:function(t){var e=1===this.data.get(this.letterStart+6*t,1),n=String.fromCharCode(this.data.get(this.letterStart+6*t+1,5)+"a".charCodeAt(0)),r=this.directory.select(0,t+1)-t,i=this.directory.select(0,t+2)-t-1;return new c(this,t,n,e,r,i-r)}},{key:"getRoot",value:function(){return this.getNodeByIndex(0)}},{key:"lookup",value:function(t){for(var e=this.getRoot(),n=0;n<t.length;n++){for(var r,i=0;i<e.getChildCount()&&(r=e.getChild(i),r.letter!==t[n]);i++);if(i===e.getChildCount())return!1;e=r}return e["final"]}},{key:"serialize",value:function(){return{trie:this._rawData,directory:this._rawDirectory,nodeCount:this._nodeCount}}}],[{key:"deserialize",value:function(e){return new t(e.trie,e.directory,e.nodeCount)}},{key:"freeze",value:function(e){var n=e.encode(),r=e.getNodeCount(),i=a["default"].Create(n,2*r+1,f.L1,f.L2);return new t(n,i.getData(),r)}}]),t}();e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),a=r(u),s=n(2),l=r(s),f=function(){function t(e,n,r,o,u){i(this,t),this.directory=new a["default"](e),this.data=new a["default"](n),this.l1Size=o,this.l2Size=u,this.l1Bits=Math.ceil(Math.log(r)/Math.log(2)),this.l2Bits=Math.ceil(Math.log(o)/Math.log(2)),this.sectionBits=(o/u-1)*this.l2Bits+this.l1Bits,this.numBits=r}return o(t,null,[{key:"Create",value:function(e,n,r,i){for(var o=new a["default"](e),u=0,s=0,f=0,c=0,h=Math.ceil(Math.log(n)/Math.log(2)),d=Math.ceil(Math.log(r)/Math.log(2)),v=new l["default"];n>=u+i;)c+=o.count(u,i),s+=i,u+=i,s===r?(f+=c,v.write(f,h),c=0,s=0):v.write(c,d);return new t(v.getData(),e,n,r,i)}}]),o(t,[{key:"getData",value:function(){return this.directory.getData()}},{key:"rank",value:function e(t,n){if(0===t)return n-this.rank(1,n)+1;var e=0,r=n,i=0;return r>=this.l1Size&&(i=(r/this.l1Size|0)*this.sectionBits,e=this.directory.get(i-this.l1Bits,this.l1Bits),r%=this.l1Size),r>=this.l2Size&&(i+=(r/this.l2Size|0)*this.l2Bits,e+=this.directory.get(i-this.l2Bits,this.l2Bits)),e+=this.data.count(n-n%this.l2Size,n%this.l2Size+1)}},{key:"select",value:function(t,e){for(var n=this.numBits,r=-1,i=-1;n-r>1;){var o=(n+r)/2|0,u=this.rank(t,o);u===e?(i=o,n=o):e>u?r=o:n=o}return i}}]),t}();e["default"]=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return u.BASE64_CACHE[t]}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=n(3),a=function(){function t(){r(this,t)}return o(t,[{key:"init",value:function(t){this.bytes=t,this.length=this.bytes.length*u.W}},{key:"getData",value:function(){return this.bytes}},{key:"get",value:function(e,n){if(e%u.W+n<=u.W)return(i(this.bytes[e/u.W|0])&t.MaskTop[e%u.W])>>u.W-e%u.W-n;var r=i(this.bytes[e/u.W|0])&t.MaskTop[e%u.W],o=u.W-e%u.W;for(e+=o,n-=o;n>=u.W;)r=r<<u.W|i(this.bytes[e/u.W|0]),e+=u.W,n-=u.W;return n>0&&(r=r<<n|i(this.bytes[e/u.W|0])>>u.W-n),r}},{key:"count",value:function e(n,r){for(var e=0;r>=8;)e+=t.BitsInByte[this.get(n,8)],n+=8,r-=8;return e+t.BitsInByte[this.get(n,r)]}},{key:"rank",value:function n(t){for(var n=0,e=0;t>=e;e++)this.get(e,1)&&n++;return n}}]),t}();e["default"]=a,a.MaskTop=[63,31,15,7,3,1,0],a.BitsInByte=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]}])});