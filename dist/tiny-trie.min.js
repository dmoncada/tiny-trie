!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TinyTrie=e():t.TinyTrie=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){function n(t){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=0},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var o,r,i,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(u){if("object"===f(t)&&"object"===f(t.exports)){var c=u(n(0),e);void 0!==c&&(t.exports=c)}else r=[n,e],void 0===(i="function"==typeof(o=u)?o.apply(e,r):o)||(t.exports=i)}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TERMINAL="\0",e.TERMINUS=Object.create(null),e.VERSION=0,e.HEADER_WIDTH_FIELD=10,e.VERSION_FIELD=10,e.OFFSET_SIGN_FIELD=1,e.OFFSET_VAL_FIELD=21,e.CHAR_WIDTH_FIELD=8,e.POINTER_WIDTH_FIELD=8})}).call(this,n(1)(t))},function(t,e,n){"use strict";(function(t){var o,r,i,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(u){if("object"===f(t)&&"object"===f(t.exports)){var c=u(n(0),e);void 0!==c&&(t.exports=c)}else r=[n,e],void 0===(i="function"==typeof(o=u)?o.apply(e,r):o)||(t.exports=i)}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BASE64_INT_TO_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),e.BASE64_CHAR_TO_INT=e.BASE64_INT_TO_CHAR.reduce(function(t,e,n){return t[e]=n,t},{})})}).call(this,n(1)(t))},function(t,e,n){"use strict";(function(t){var o,r,i,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(u){if("object"===f(t)&&"object"===f(t.exports)){var c=u(n(0),e);void 0!==c&&(t.exports=c)}else r=[n,e],void 0===(i="function"==typeof(o=u)?o.apply(e,r):o)||(t.exports=i)}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=0;t>>=1;)e++;return e}})}).call(this,n(1)(t))},function(t,e,n){"use strict";(function(t){var o,r,i,f=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(f){if("object"===u(t)&&"object"===u(t.exports)){var c=f(n(0),e);void 0!==c&&(t.exports=c)}else r=[n,e,n(4),n(7),n(2)],void 0===(i="function"==typeof(o=f)?o.apply(e,r):o)||(t.exports=i)}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=t("./floor_log2"),o=t("./BinaryString"),r=t("./constants"),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.frozen=!1}return f(t,[{key:"insert",value:function(t){if(this.frozen)throw new SyntaxError("Can't insert into frozen Trie");return t.split("").reduce(function(t,e){if(e===r.TERMINAL)throw new TypeError("Illegal string character "+r.TERMINAL);return t.hasOwnProperty(e)?t[e]:t[e]={}},this.root)[r.TERMINAL]=r.TERMINUS,this}},{key:"test",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{wildcard:null,prefix:!1},n=e.wildcard,o=e.prefix;if(!n){var i=this.root;return!!t.split("").every(function(t){return!!(i=i[t])})&&(o||i.hasOwnProperty(r.TERMINAL))}return!!this.search(t,{wildcard:n,prefix:o,first:!0})}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{wildcard:null,prefix:!1,first:!1},n=e.wildcard,o=e.prefix,i=e.first;if(n&&1!==n.length)throw new Error("Wildcard length must be 1; got "+n.length);for(var f=[],c=[{data:this.root,depth:0,memo:""}],a=t.length,l=function(){var e=c.shift();if(e.depth>=a){if(e.data.hasOwnProperty(r.TERMINAL)){if(i)return{v:e.memo};f.push(e.memo)}if(!o)return"continue"}var u=o&&e.depth>=a,l=t[e.depth];l===n||u?Object.keys(e.data).forEach(function(t){t!==r.TERMINAL&&c.push({data:e.data[t],depth:e.depth+1,memo:e.memo+t})}):e.data.hasOwnProperty(l)&&c.push({data:e.data[l],depth:e.depth+1,memo:e.memo+l})};c.length;){var s=l();switch(s){case"continue":continue;default:if("object"===(void 0===s?"undefined":u(s)))return s.v}}return i?null:f}},{key:"clone",value:function(){return new t(this.toJSON())}},{key:"freeze",value:function(){if(this.frozen)return this;for(var t={},e=this.root,n=[],o=[e];o.length;)e=o.pop(),Object.keys(e).forEach(function(t){if("_"!==t[1]){var r=e[t];n.push({current:r,char:t,parent:e}),o.push(r)}});for(var r=function(){var e=n.pop(),o=e.char,r=e.parent,i=e.current;if(t.hasOwnProperty(o)){var f=t[o],u=f.find(function(t){var e=Object.keys(t),n=Object.keys(i);return e.length===n.length&&e.every(function(e){return t[e]===i[e]})});u?r[o]=u:f.push(i)}else t[o]=[i]};n.length;)r();return this.frozen=!0,this}},{key:"encode",value:function(){for(var t=[],e=[this.root],i=new Set,f=Date.now(),u=1/0,c=-1/0,a=function(){var n=e.shift(),o=Object.keys(n).filter(function(t){return"_"!==t[1]}),r=o.length;n.__visited__=f;var a=n.__idx__=t.length;n.__parents__&&n.__parents__.forEach(function(t){var e=t.offset=a-t.idx;e<u&&(u=e),e>c&&(c=e)}),o.forEach(function(o,a){var l=n[o],s=t.length,p={char:o,idx:s,offset:null,last:a===r-1};if(l.__visited__===f){var y=l.__idx__,d=p.offset=y-s;d<u&&(u=d),d>c&&(c=d)}else l.__willVisit__===f?l.__parents__.push(p):(l.__willVisit__=f,l.__parents__=[p]),e.push(l);t.push(p),i.add(o)})};e.length;)a();var l,s,p,y=Array.from(i).filter(function(t){return t!==r.TERMINAL}),d=y.reduce(function(t,e,n){return t[e]=n+1,t},(l={},s=r.TERMINAL,p=0,s in l?Object.defineProperty(l,s,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[s]=p,l)),h=n.default(y.length)+1,_=c-u,b=n.default(_)+1,v=new o.default;t.forEach(function(t){var e=t.char,n=t.offset,o=t.last;v.write(d[e],h),v.write(n-u,b),v.write(+o,1)}),v.flush();var m=new o.default,E=y.join(""),S=Math.ceil((r.HEADER_WIDTH_FIELD+r.VERSION_FIELD+r.OFFSET_SIGN_FIELD+r.OFFSET_VAL_FIELD+r.CHAR_WIDTH_FIELD+r.POINTER_WIDTH_FIELD)/6)+E.length,I=+(u<0);return m.write(S,r.HEADER_WIDTH_FIELD),m.write(r.VERSION,r.VERSION_FIELD),m.write(I,r.OFFSET_SIGN_FIELD),m.write(I?-u:u,r.OFFSET_VAL_FIELD),m.write(h,r.CHAR_WIDTH_FIELD),m.write(b,r.POINTER_WIDTH_FIELD),m.flush(),""+m.getData()+E+v.getData()}},{key:"toJSON",value:function(){var t=JSON.stringify(this.root,function(t,e){if("_"!==t[1])return e});return JSON.parse(t)}}]),t}();e.default=i})}).call(this,n(1)(t))},,function(t,e,n){"use strict";(function(t){var o,r,i,f=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(f){if("object"===u(t)&&"object"===u(t.exports)){var c=f(n(0),e);void 0!==c&&(t.exports=c)}else r=[n,e,n(4),n(3)],void 0===(i="function"==typeof(o=f)?o.apply(e,r):o)||(t.exports=i)}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=t("./floor_log2"),o=t("./base64"),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=0,this.pointer=0,this.data=""}return f(t,[{key:"write",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.buffer,r=e||n.default(t)+1;if(e&&t>=1<<e)throw new Error("Can't write "+t+" in only "+e+" bits");this.buffer=o<<r|t,this.pointer+=r,this._digest()}},{key:"flush",value:function(){for(var t=this.buffer,e=this.pointer;e&&e<6;)t<<=1,e+=1;this.pointer=e,this.buffer=t,this._digest()}},{key:"getData",value:function(){return this.flush(),this.data}},{key:"_digest",value:function(){for(var t=this.buffer,e=this.pointer,n="";e>=6;){var r=e-6,i=t>>r;t^=i<<r,e=r,n+=o.BASE64_INT_TO_CHAR[i]}this.pointer=e,this.buffer=t,this.data+=n}}]),t}();e.default=r})}).call(this,n(1)(t))},function(t,e,n){"use strict";(function(t){var o,r,i,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(u){if("object"===f(t)&&"object"===f(t.exports)){var c=u(n(0),e);void 0!==c&&(t.exports=c)}else r=[n,e,n(5),n(5)],void 0===(i="function"==typeof(o=u)?o.apply(e,r):o)||(t.exports=i)}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=t("./Trie"),o=t("./Trie");function r(t){var e=new n.default;return t.forEach(function(t){return e.insert(t)}),e}e.Trie=o.default,e.createSync=r,e.createFrozenSync=function(t){return r(t).freeze()}})}).call(this,n(1)(t))}])});