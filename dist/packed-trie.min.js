!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TinyTrie=t():e.TinyTrie=t()}(this,function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,r){for(var i=~~(t/6),n=t%6,a=n+r,o=Math.ceil(a/6),u=(1<<r)-1,f=0,c=0;o>c;c++)f<<=6,f|=s.BASE64_CHAR_TO_INT[e[i+c]];var l=a%6;return l&&(f>>=6-l),f&u}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),u=r(2),f=function(){function e(t){n(this,e);var r=0,o=a(t,r,u.HEADER_WIDTH_FIELD);r+=u.HEADER_WIDTH_FIELD;var s=t.substr(0,o),f=a(t,r,u.VERSION_FIELD);if(r+=u.VERSION_FIELD,f!==u.VERSION)throw new Error("Version mismatch! Binary: "+f+", Reader: "+u.VERSION);this.data=t.substr(o);var c=a(s,r,u.OFFSET_SIGN_FIELD);r+=u.OFFSET_SIGN_FIELD;var l=a(s,r,u.OFFSET_VAL_FIELD);r+=u.OFFSET_VAL_FIELD,c&&(l=-l),this.offset=l;var h=a(s,r,u.CHAR_WIDTH_FIELD);r+=u.CHAR_WIDTH_FIELD;var E=a(s,r,u.POINTER_WIDTH_FIELD);r+=u.POINTER_WIDTH_FIELD;var I=Math.ceil(r/6),d=s.substr(I);this.table=d.split("").reduce(function(e,t,r){return e[t]=r+1,e},i({},u.TERMINAL,0)),this.inverseTable=[u.TERMINAL].concat(d.split("")),this.wordWidth=h+E+1,this.lastMask=1,this.pointerMask=(1<<E)-1,this.pointerShift=1,this.charMask=(1<<h)-1,this.charShift=1+E}return o(e,[{key:"test",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{wildcard:null,prefix:!1}:arguments[1],r=t.wildcard,i=t.prefix;return null!==this.search(e,{wildcard:r,prefix:i,first:!0})}},{key:"search",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{wildcard:null,prefix:!1,first:!1}:arguments[1],r=t.wildcard,i=t.prefix,n=t.first;if(r&&1!==r.length)throw new Error("Wilcard must be a single character; got "+r);for(var o=this.data,s=this.offset,f=this.table,c=this.inverseTable,l=this.wordWidth,h=this.lastMask,E=this.pointerShift,I=this.pointerMask,d=this.charShift,_=this.charMask,p=[],T=[{pointer:0,memo:"",depth:0}],v=e.length;T.length;)for(var D=T.shift(),F=D.depth>=v,b=F?u.TERMINAL:e[D.depth],L=b===r||i&&F,m=D.pointer;;){if(!L&&!f.hasOwnProperty(b))break;var R=m*l,O=a(o,R,l),S=O>>d&_;if(L||S===f[b]){var N=O>>E&I,A=c[S];if(F&&A===u.TERMINAL){if(n)return D.memo;if(p.push(D.memo),!L)break}A!==u.TERMINAL&&T.push({pointer:m+s+N,depth:D.depth+1,memo:D.memo+A})}var y=O&h;if(y)break;m+=1}return n?null:p}}]),e}();t["default"]=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.BASE64_INT_TO_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.BASE64_CHAR_TO_INT=r.reduce(function(e,t,r){return e[t]=r,e},{})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TERMINAL="\x00",t.TERMINUS=Object.create(null),t.VERSION=0,t.HEADER_WIDTH_FIELD=10,t.VERSION_FIELD=10,t.OFFSET_SIGN_FIELD=1,t.OFFSET_VAL_FIELD=21,t.CHAR_WIDTH_FIELD=8,t.POINTER_WIDTH_FIELD=8}])});